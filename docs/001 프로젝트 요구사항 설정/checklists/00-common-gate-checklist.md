# 공통 게이트 체크리스트

## 목적

- 병렬 개발 중 충돌을 줄이고, 기능 간 계약을 고정한다.

## 공통 규칙

- [ ] 패키지 구조를 DDD 레이어로 유지한다.
- [ ] 도메인 규칙은 `domain/**`, 유스케이스 조합은 `application/**`에 둔다.
- [ ] 컨트롤러는 `interfaces/web`, 요청/응답 DTO는 `interfaces/dto`에 둔다.
- [ ] Query/DB 접근은 `infrastructure/repository`에서만 수행한다.
- [ ] 에러 코드/응답 포맷은 공통 포맷을 사용한다.

## 계약 동기화

- [ ] 엔드포인트 목록을 먼저 확정한다.
- [ ] 요청/응답 DTO 이름과 필드를 확정한다.
- [ ] 상태값(enum)과 전이 규칙을 확정한다.
- [ ] 이벤트/비동기 집계 사용 시 발행/소비 계약을 문서화한다.

## 품질 게이트

- [ ] 단위 테스트: 도메인 규칙과 서비스 유스케이스를 검증한다.
- [ ] 통합 테스트: 주요 API happy path + 예외 path를 검증한다.
- [ ] 최소 1개 이상 실패 케이스(유효성/미존재/충돌)를 포함한다.
- [ ] `./gradlew test` 통과 결과를 PR에 첨부한다.

## 충돌 방지

- [ ] 하나의 aggregate는 한 시점에 한 에이전트만 수정한다.
- [ ] 공통 파일 수정(`application.yml`, 공통 예외/응답)은 담당자 1명으로 제한한다.
- [ ] PR은 가능하면 작게 유지하고, 스코프를 기능 단위로 제한한다.
